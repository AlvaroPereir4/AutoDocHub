<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AutodocHub</title>
  <style>
    :root { --bg: #f7f7f7; --card: #fff; --text: #111; --muted: #555; --line: #e0e0e0; --accent: #111; --accent-light: #f5f5f5; --success-bg: #e8f5e9; --success-border: #c8e6c9; --success-text: #2e7d32; --error-bg: #ffebee; --error-border: #ffcdd2; --error-text: #c62828; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif; background: var(--bg); color: var(--text); padding: 20px; font-size: 14px; }
    h1 { font-size: 24px; margin-bottom: 20px; text-align: center; }
    h2 { font-size: 18px; margin-bottom: 15px; border-bottom: 1px solid var(--line); padding-bottom: 10px; color: var(--muted); }
    .wrap { max-width: 1300px; margin: 0 auto; }
    .tabs { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 1px solid var(--line); }
    .tab { padding: 10px 20px; cursor: pointer; border-radius: 8px 8px 0 0; background: transparent; font-weight: 600; border: 1px solid transparent; border-bottom: none; position: relative; top: 1px; }
    .tab.active { background: var(--card); border-color: var(--line); border-bottom-color: var(--card); }
    .tab-content { display: none; grid-template-columns: 1fr 1fr; gap: 20px; }
    .tab-content.active { display: grid; }
    .form-section, .preview-section { background: var(--card); border: 1px solid var(--line); border-radius: 12px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,.05); max-height: 80vh; overflow-y: auto; }
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
    .row-1 { grid-template-columns: 1fr; }
    .row-3 { grid-template-columns: 1fr 1fr 1fr; }
    label { font-size: 12px; color: var(--muted); margin-bottom: 4px; display: block; font-weight: 600; }
    input, textarea, button { width: 100%; padding: 10px; border: 1px solid var(--line); border-radius: 8px; font-size: 14px; background: #fff; color: var(--text); transition: border-color .2s; }
    input:focus, textarea:focus { border-color: var(--accent); outline: none; }
    textarea { min-height: 80px; resize: vertical; }
    .actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px; }
    .btn { cursor: pointer; border: none; font-weight: 600; padding: 10px 16px; border-radius: 8px; transition: opacity .2s; }
    .btn:hover { opacity: 0.85; }
    .btn.primary { background: var(--accent); color: #fff; }
    .btn.secondary { background: var(--accent-light); color: var(--text); border: 1px solid var(--line); }
    .message { padding: 12px; border-radius: 8px; margin-top: 15px; display: none; }
    .success { background: var(--success-bg); border: 1px solid var(--success-border); color: var(--success-text); }
    .error { background: var(--error-bg); border: 1px solid var(--error-border); color: var(--error-text); }
    .money-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; align-items: end; margin-bottom: 15px; }
    .saldo { padding: 10px; border: 1px dashed var(--line); border-radius: 8px; background: var(--accent-light); text-align: center; font-weight: bold; font-size: 16px; }
    .orc-list { max-height: 400px; overflow-y: auto; margin-bottom: 12px; border: 1px solid var(--line); border-radius: 8px; }
    .orc-item { padding: 12px; border-bottom: 1px solid var(--line); cursor: pointer; transition: background-color .2s; font-size: 13px; }
    .orc-item:last-child { border-bottom: none; }
    .orc-item:hover { background-color: var(--accent-light); }
    .orc-item.selected { background-color: var(--accent); color: #fff; }
    #searchOrc { margin-bottom: 10px; }
    pre { white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New', Courier, monospace; font-size: 13px; line-height: 1.6; color: #333; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>AutodocHub üìù</h1>
    <div class="tabs">
      <div class="tab active" data-tab="orcamentos">Or√ßamentos</div>
      <div class="tab" data-tab="recibos">Recibos</div>
    </div>

    <div class="tab-content active" id="orcamentos">
      <div class="form-section">
        <h2>Criar Or√ßamento</h2>
        <form id="orcForm">
          <div class="row row-1"><input id="titulo" name="titulo" type="hidden" value="OR√áAMENTO" /></div>
          <div class="row">
            <div><label for="cliente">Cliente</label><input id="cliente" name="cliente" type="text" placeholder="Nome do cliente" required /></div>
            <div><label for="endereco">Endere√ßo / Local</label><input id="endereco" name="endereco" type="text" placeholder="Rua, n√∫mero, cidade/UF" required /></div>
          </div>
          <div class="row row-1">
            <div><label for="servico">Servi√ßos Detalhados (um item por linha)</label><textarea id="servico" name="servico" placeholder="Ex: Remo√ß√£o do rejunte antigo..." required></textarea></div>
          </div>
          <div class="money-row">
            <div><label for="valor_total">Valor Total (R$)</label><input id="valor_total" name="valor_total" type="number" step="0.01" min="0" required /></div>
            <div><label for="sinal">Sinal (R$)</label><input id="sinal" name="sinal" type="number" step="0.01" min="0" required /></div>
            <div><label>Saldo Restante</label><div id="saldo_restante" class="saldo">R$ 0,00</div></div>
          </div>
          <div class="row">
            <div><label for="emissao">Data de Emiss√£o</label><input id="emissao" name="emissao" type="date" required /></div>
            <div><label for="validade">Validade do Or√ßamento</label><input id="validade" name="validade" type="date" required /></div>
          </div>
          <div class="row row-1">
            <div><label for="observacoes">Observa√ß√µes / Condi√ß√µes (um item por linha)</label><textarea id="observacoes" name="observacoes" placeholder="Ex: Sinal de 50% para iniciar..."></textarea></div>
          </div>
          <div class="row-3">
            <div><label for="contato_nome">Seu Nome</label><input id="contato_nome" name="contato_nome" type="text" value="√Ålvaro Pereira" required /></div>
            <div><label for="contato_tel">Seu Telefone</label><input id="contato_tel" name="contato_tel" type="tel" value="11 96042-0895" required /></div>
            <div><label for="contato_email">Seu E-mail</label><input id="contato_email" name="contato_email" type="email" value="alvaropereirasantos9@gmail.com" required /></div>
          </div>
          <div class="row row-1">
            <div><label for="contato_pix">Sua Chave PIX</label><input id="contato_pix" name="contato_pix" type="text" placeholder="CPF, CNPJ, e-mail, etc." value="11 96042-0895"/></div>
          </div>
          <div class="actions">
            <button type="button" class="btn secondary" id="resetBtn">Limpar Tudo</button>
            <button type="submit" class="btn primary">Salvar e Gerar Or√ßamento</button>
          </div>
          <div id="orcMsg" class="message"></div>
        </form>
      </div>
      <div class="preview-section">
        <h2>Preview do Or√ßamento</h2>
        <pre id="orcPreviewContent">Preencha o formul√°rio para ver o preview aqui.</pre>
      </div>
    </div>

    <div class="tab-content" id="recibos">
      <div class="form-section">
        <h2>Gerar Recibo</h2>
        <input type="text" id="searchOrc" placeholder="üîé Buscar por cliente, endere√ßo ou ID..." />
        <div class="orc-list" id="orcList"><p style="padding: 20px; text-align: center; color: var(--muted);">Carregando or√ßamentos...</p></div>
        <div class="actions">
            <button type="button" class="btn primary" id="gerarReciboBtn">Salvar e Gerar Recibo</button>
        </div>
        <div id="reciboMsg" class="message"></div>
      </div>
      <div class="preview-section">
        <h2>Preview do Recibo</h2>
        <pre id="reciboPreviewContent">Selecione um or√ßamento da lista para gerar o recibo.</pre>
      </div>
    </div>
  </div>
  <script src="../static/script.js" defer></script>
</body>
</html>
